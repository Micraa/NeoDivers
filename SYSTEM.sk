on right click:
	player's tool is bone
	open chest with 4 row named "&8Skript reload" to player
	set slot 0 of player's current inventory to black stained glass pane named "&f&lALL"
	loop {skript::*}:
		add 1 to {_n}
		set slot {_n} of player's current inventory to {skript_ui::%{_n}%} named "%loop-value%"

on inventory click:
	if name of player's current inventory is "&8Skript reload":
		event-item is set
		sound(player, "entity.chicken.step", 1, 1)
		cancel event
		if name of event-item is "&f&lALL":
			execute player command "/l"
			close player's inventory
			stop
		execute player command "/l %name of event-item%"

on load:
	set {skript::*} to "SYSTEM", "DEVELOP", "PARTICLE", "DAMAGE", "PROJECTILE", "SKILL", "ITEM", "ELEMENT", "ENTITY", "MAP" and "GUI"
	set {skript_ui::*} to impulse command block, pieces of paper, blaze powder, fire charge, arrow, iron sword, diamond, potion, zombie spawn egg, filled map and chest

command /ll:
	permission: skript.admin
	trigger:
		set {_time} to now
		broadcast ""
		broadcast "&6&lRoading Skript..."
		execute player command "/sk reload scripts"
		broadcast "&e&l%difference between {_time} and now% &6&lto complete."

command /l [<text>]:
	permission: skript.admin
	trigger:
		set {_time} to now
		broadcast ""
		broadcast "&6&lRoading Skript..."
		if arg 1 is not set:
			loop {skript::*}:
				execute player command "/sk reload %loop-value%"
				wait 10 ticks
		else:
			execute player command "/sk reload %arg-1%"
		broadcast "&e&l%difference between {_time} and now% &6&lto complete."

command /mdlink:
	trigger:
		if difference between {linkcodelimit::%{mdcode.%uuid of player%}%} and now < 5 minutes:
			send "ã‚ãªãŸã®ã‚³ãƒ¼ãƒ‰ã¯ &a%{mdcode.%uuid of player%}% &rã§ã™"
			send "ã“ã®ã‚µãƒ¼ãƒãƒ¼ã®Discordå†…ã® &f&lé€£æºï½œlink &rã¨ã„ã†ãƒãƒ£ãƒ³ãƒãƒ«ã§"
			send "&e  /link %{mdcode.%uuid of player%}% &rã¨å…¥åŠ›ã—ã¦ãã ã•ã„ ã“ã®ã‚³ãƒ¼ãƒ‰ã®&cæœ‰åŠ¹æœŸé™ã¯5åˆ†&rã§ã™"
			set {linkcodelimit::%{mdcode.%uuid of player%}%} to now
			stop
		set {mdcode.%uuid of player%} to a random integer between 11111 and 99999
		while {linkcode::%{mdcode.%uuid of player%}%} is set:
			set {mdcode.%uuid of player%} to a random integer between 11111 and 99999
		set {linkcode::%{mdcode.%uuid of player%}%} to player
		send "ã‚ãªãŸã®ã‚³ãƒ¼ãƒ‰ã¯ &a%{mdcode.%uuid of player%}% &rã§ã™"
		send "ã“ã®ã‚µãƒ¼ãƒãƒ¼ã®Discordå†…ã® &f&lé€£æºï½œlink &rã¨ã„ã†ãƒãƒ£ãƒ³ãƒãƒ«ã§"
		send "&e  /link %{mdcode.%uuid of player%}% &rã¨å…¥åŠ›ã—ã¦ãã ã•ã„ ã“ã®ã‚³ãƒ¼ãƒ‰ã®&cæœ‰åŠ¹æœŸé™ã¯5åˆ†&rã§ã™"
		set {linkcodelimit::%{mdcode.%uuid of player%}%} to now

discord command /link [<text>]:
	trigger:
		if discord id of event-channel is not {id.link}:
			delete event-message with "NeoDivers-BOT"
			stop
		if arg-1 is not set:
			reply with "MCã‚µãƒ¼ãƒãƒ¼å†…ã§ç™ºè¡Œã•ã‚ŒãŸã‚³ãƒ¼ãƒ‰ã‚’è¨˜è¿°ã—ã¦ãã ã•ã„"
			stop
		if {linkcode::%arg-1%} is not set:
			reply with "å­˜åœ¨ã—ãªã„ã‚³ãƒ¼ãƒ‰ã§ã™ æ­£ç¢ºã«å…¥åŠ›ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªã—ã¦ãã ã•ã„"
			stop
		if difference between {linkcodelimit::%arg-1%} and now > 5 minutes:
			reply with "æœ‰åŠ¹æœŸé™ãŒåˆ‡ã‚ŒãŸã‚³ãƒ¼ãƒ‰ã§ã™ MCã‚µãƒ¼ãƒãƒ¼å†…ã§ã‚‚ã†ä¸€åº¦ã‚³ãƒ¼ãƒ‰ã‚’ç™ºè¡Œã—ã¦ãã ã•ã„"
			delete {linkcode::%arg-1%}
			stop
		if {linked::%discord id of event-member%} is set:
			reply with "MCID ""%{linked::%discord id of event-member%}%"" ã¨ã®é€£æºã‚’è§£é™¤ã—ã¦"
			reply with "MCID ""%{linkcode::%arg-1%}%"" ã¨é€£æºã—ã¾ã—ãŸ"
		else:
			reply with "MCID ""%{linkcode::%arg-1%}%"" ã¨ã®é€£æºã«æˆåŠŸã—ã¾ã—ãŸ"
		set {linked::%discord id of event-member%} to {linkcode::%arg-1%}
		add role with id "939744914135199826" to roles of event-member
		delete {linkcode::%arg-1%}
		set {_player} to {linked::%discord id of event-member%} parsed as player
		set {_uuid} to uuid of {_player}
		delete {linkcodelimit::%{mdcode.%{_uuid}%}%}
		delete {mdcode.%{_uuid}%}

command /mdre [<number>]:
	trigger:
		delete {linkcode::%arg-1%}
		delete {linkcodelimit::%{mdcode.%uuid of player%}%}
		delete {mdcode.%uuid of player%}

discord command /check [<user>]:
	trigger:
		if discord id of event-channel is not {id.close}:
			delete event-message with "NeoDivers-BOT"
			stop
		wait 10 ticks
		reply with "%arg-1% ã¯ `%{linked::%discord id of arg-1%}%` ã¨é€£æºã—ã¦ã„ã¾ã™"

options:
	token: MTAwNjQ0NzQ5MzE0OTYzNDU5MA.Gkh3Ht.vovPkJ59650VT5gVA9WhbE5iToj7OGBFFwjvaY
	botname: NeoDivers-BOT

on load:
	set {owner} to "0e4c2997-4001-49f2-8911-05a8ba630d5f" parsed as offline player

#discord command /set1:
#	trigger:
#		set {id.open} to discord id of event-channel
#		set {id.owner} to discord id of event-user
#		send "Setup Success" to event-channel with "{@botname}"
#discord command /set2:
#	trigger:
#		set {id.close} to discord id of event-channel
#		set {id.owner} to discord id of event-user
#		send "Setup Success" to event-channel with "{@botname}"
#discord command /set3:
#	trigger:
#		set {id.link} to discord id of event-channel
#		set {id.owner} to discord id of event-user
#		send "Setup Success" to event-channel with "{@botname}"
#on voice channel join:
#	set {id.info} to discord id of event-channel

on script load:
	if online status of "{@botname}" is not online:
		login to "{@token}" with name "{@botname}"
	wait 3 seconds
	set discord name of channel with id {id.info} to "âœ…ã‚µãƒ¼ãƒãƒ¼èµ·å‹•ä¸­" with "{@botname}"

on script stop:
	set discord name of channel with id {id.info} to "ğŸ›‘ã‚µãƒ¼ãƒãƒ¼åœæ­¢ä¸­" with "{@botname}"

on chat:
	cancel event
	broadcast "%player% &8ã€‹&r%message% &7(%now formatted as ""HH:mm:ss""%&7)"
	replace all "Â§r", "Â§m", "Â§n", "Â§k", "Â§o", "Â§0", "Â§1", "Â§2", "Â§3", "Â§4", "Â§5", "Â§6", "Â§7", "Â§8", "Â§9", "Â§a", "Â§b", "Â§c", "Â§d" and "Â§e" with "" in message
	send "**%player%**: %message% (%now formatted as ""HH:mm:ss""%)" to channel with id {id.open} with "{@botname}"
	send "**%player%**: %message% (%now formatted as ""HH:mm:ss""%)" to channel with id {id.close} with "{@botname}"

on message received:
	if discord id of event-channel is {id.open}:
		if "%event-member%" is not "{@botname}":
			set {_t} to event-text
			replace all "*", "`", "||", ">" and "~~" with "" in {_t}
			broadcast "%event-member% &bã€‹&r%{_t}% &7(from Discord) (%now formatted as ""HH:mm:ss""%)"

on command:
	the player is a player
	send "&6* &7%player% &7: /%full command% &7(%now formatted as ""HH:mm:ss""%&7)" to {owner}
	send "**%player%**: /%full command% (%now formatted as ""HH:mm:ss""%)" to channel with id {id.close} with "{@botname}"

function comma(int: number) :: text:
	set {_Coins} to "%{_int}%"
	set {_length} to length of {_Coins}
	if {_length} >= 3:
		set {_mod} to {_length} mod 3
		if {_mod} is 0:
			set {_groups::*} to groups 1 of {_Coins} matched to "([0-9]{3})"
			set {_Coins} to join {_groups::*} with ","
		else:
			set {_1} to the first {_mod} characters of {_Coins}
			set {_2} to subtext of {_Coins} from characters ({_mod}+1) to {_length}
			set {_groups::*} to groups 1 of {_2} matched to "([0-9]{3})"
			set {_Coins} to "%{_1}%,%join {_groups::*} with "",""%"
	return {_Coins}

command /gm [<integer>]:
	permission: skript.admin
	trigger:
		if arg 1 is 0:
			set the player's gamemode to survival
		if arg 1 is 1:
			set the player's gamemode to creative
		if arg 1 is 2:
			set the player's gamemode to adventure
		if arg 1 is 3:
			set the player's gamemode to spectator

command /fast [<text>] [<number>]: #é«˜é€Ÿç§»å‹•
	permission: skript.admin
	trigger:
		if arg 1 is not set:
			if {fast.%player%} is 1:
				send "&6é«˜é€Ÿç§»å‹•ã‚’è§£é™¤ã—ã¾ã—ãŸ(é€šå¸¸é€Ÿåº¦ã«ãªã‚Šã¾ã—ãŸ) &7(/fast help)" to player
				set the player's fly speed to 0.1
				set the player's walk speed to 0.2
				clear {fast.%player%}
				stop
			if {fast.%player%} is not set:
				if arg 1 is "2":
					send "&6é«˜é€Ÿç§»å‹•ã‚’æœ‰åŠ¹ã«ã—ã¾ã—ãŸ &7(/fast help)" to player
					set the player's fly speed to 0.5
					set the player's walk speed to 0.7
					set {fast.%player%} to 1
					stop
				else:
					send "&6é«˜é€Ÿç§»å‹•ã‚’æœ‰åŠ¹ã«ã—ã¾ã—ãŸ &7(/fast help)" to player
					set the player's fly speed to 0.3
					set the player's walk speed to 0.5
					set {fast.%player%} to 1
					stop
		if arg 1 is "walk":
			if arg 2 is set:
				set the player's walk speed to arg 2
				set {fast.%player%} to 1
				send "&6æ­©ãç§»å‹•ã®é€Ÿåº¦ã‚’å¤‰æ›´ã—ã¾ã—ãŸ &e/fast &6ã§é€šå¸¸é€Ÿåº¦ã«æˆ»ã›ã¾ã™" to player
			else:
				send "&cæ•°å€¤ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ &7(/fast help)" to player
		if arg 1 is "fly":
			if arg 2 is set:
				set the player's fly speed to arg 2
				set {fast.%player%} to 1
				send "&6é£›è¡Œç§»å‹•ã®é€Ÿåº¦ã‚’å¤‰æ›´ã—ã¾ã—ãŸ &e/fast &6ã§é€šå¸¸é€Ÿåº¦ã«æˆ»ã›ã¾ã™" to player
			else:
				send "&cæ•°å€¤ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ &7(/fast help)" to player
		if arg 1 is "help":
			send "&6/fast &eé«˜é€Ÿç§»å‹•ã‚’ æœ‰åŠ¹/ç„¡åŠ¹ ã«ã™ã‚‹" to player
			send "&6/fast walk <number> &eæ­©ãç§»å‹•ã®é€Ÿåº¦ã‚’å¤‰æ›´ &7(<number>ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯0.2)" to player
			send "&6/fast fly <number> &eé£›è¡Œç§»å‹•ã®é€Ÿåº¦ã‚’å¤‰æ›´ &7(<number>ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯0.1)" to player
